speeches_1 <- unique(speeches_1)
speeches_2 <- speeches_2 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_2 <- unique(speeches_2)
speeches_3 <- speeches_3 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_3 <- unique(speeches_3)
speeches_4 <- speeches_4 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_4 <- unique(speeches_4)
speeches_5 <- speeches_5 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_5 <- unique(speeches_5)
# bind back
speeches <- rbind(speeches_1, speeches_2, speeches_3, speeches_4, speeches_5)
# define counts of speeches
n_speeches <- nrow(speeches)
n_speeches_f <- speeches %>%
subset(speeches$gender == "F") %>%
nrow()
n_speeches_m <- speeches %>%
subset(speeches$gender == "M") %>%
nrow()
prop_speeches_f <- n_speeches_f/n_speeches
prop_speeches_m <- n_speeches_m/n_speeches
prop_speeches_m + prop_speeches_f
speeches_1 <- left_join(speeches_1, gender, by = "parl_id") %>% unique()
n_speeches1 <- nrow(speeches_1)
n_speeches_f1 <- speeches_1 %>%
subset(speeches_1$gender == "F") %>%
nrow()
n_speeches_m1 <- speeches_1 %>%
subset(speeches_1$gender == "M") %>%
nrow()
prop_speeches_f1 <- n_speeches_f1/n_speeches1
prop_speeches_m1 <- n_speeches_m1/n_speeches1
prop_speeches_m1 + prop_speeches_f1 # check == 1
speeches_2 <- left_join(speeches_2, gender, by = "parl_id") %>% unique()
n_speeches2 <- nrow(speeches_2)
n_speeches_f2 <- speeches_2 %>%
subset(speeches_2$gender == "F") %>%
nrow()
n_speeches_m2 <- speeches_2 %>%
subset(speeches_2$gender == "M") %>%
nrow()
prop_speeches_f2 <- n_speeches_f2/n_speeches2
prop_speeches_m2 <- n_speeches_m2/n_speeches2
prop_speeches_m2 + prop_speeches_f2 # check == 1
speeches_3 <- left_join(speeches_3, gender, by = "parl_id") %>% unique()
n_speeches3 <- nrow(speeches_3)
n_speeches_f3 <- speeches_3 %>%
subset(speeches_3$gender == "F") %>%
nrow()
n_speeches_m3 <- speeches_3 %>%
subset(speeches_3$gender == "M") %>%
nrow()
prop_speeches_f3 <- n_speeches_f3/n_speeches3
prop_speeches_m3 <- n_speeches_m3/n_speeches3
prop_speeches_m3 + prop_speeches_f3 # check == 1
speeches_4 <- left_join(speeches_4, gender, by = "parl_id") %>% unique()
n_speeches4 <- nrow(speeches_4)
n_speeches_f4 <- speeches_4 %>%
subset(speeches_4$gender == "F") %>%
nrow()
n_speeches_m4 <- speeches_4 %>%
subset(speeches_4$gender == "M") %>%
nrow()
prop_speeches_f4 <- n_speeches_f4/n_speeches4
prop_speeches_m4 <- n_speeches_m4/n_speeches4
prop_speeches_m4 + prop_speeches_f4 # check == 1
speeches_5 <- left_join(speeches_5, gender, by = "parl_id") %>% unique()
n_speeches5 <- nrow(speeches_5)
n_speeches_f5 <- speeches_5 %>%
subset(speeches_5$gender == "F") %>%
nrow()
n_speeches_m5 <- speeches_5 %>%
subset(speeches_5$gender == "M") %>%
nrow()
prop_speeches_f5 <- n_speeches_f5/n_speeches5
prop_speeches_m5 <- n_speeches_m5/n_speeches5
prop_speeches_m5 + prop_speeches_f5 # check == 1
# n_m | n_f | p_m | p_f | n_msps_m | n_msps_f | p_msps_m | p_msps_f | n_total
n_m <- c(n_speeches_m1, n_speeches_m2, n_speeches_m3, n_speeches_m4, n_speeches_m5, ((n_speeches_m1 + n_speeches_m2 + n_speeches_m3 + n_speeches_m4 + n_speeches_m5)/5))
n_f <- c(n_speeches_f1, n_speeches_f2, n_speeches_f3, n_speeches_f4, n_speeches_f5, ((n_speeches_f1 + n_speeches_f2 + n_speeches_f3 + n_speeches_f4 + n_speeches_f5)/5))
p_m <- c(prop_speeches_m1, prop_speeches_m2, prop_speeches_m3, prop_speeches_m4, prop_speeches_m5, ((prop_speeches_m1 + prop_speeches_m2 + prop_speeches_m3 + prop_speeches_m4 + prop_speeches_m5)/5))
p_f <- c(prop_speeches_f1, prop_speeches_f2, prop_speeches_f3, prop_speeches_f4, prop_speeches_f5, ((prop_speeches_f1 + prop_speeches_f2 + prop_speeches_f3 + prop_speeches_f4 + prop_speeches_f5)/5))
n_msps_m <- c(nm1, nm2, nm3, nm4, nm5, ((nm1+nm2+nm3+nm4+nm5)/5))
n_msps_f <- c(nf1, nf2, nf3, nf4, nf5, ((nf1+nf2+nf3+nf4+nf5)/5))
n_total <- c(n_msp1, n_msp2, n_msp3, n_msp4, n_msp5, ((n_msp1 + n_msp2 + n_msp3 + n_msp4 + n_msp5)/5))
p_msps_m <- c(pm1, pm2, pm3, pm4, pm5, ((pm1+pm2+pm3+pm4+pm5)/5))
p_msps_f <- c(pf1, pf2, pf3, pf4, pf5, ((pf1+pf2+pf3+pf4+pf5)/5))
summary <- data.frame(n_m, n_f, p_m, p_f, n_msps_m, n_msps_f, n_total, p_msps_m, p_msps_f)
rownames(summary) <- c("First Parliament", "Second Parliament", "Third Parliament", "Fourth Parliament", "Fifth Parliament", "Mean")
colnames(summary) <- c("Number speeches by men", "Number of speeches by women", "Proportion of speeches by men", "Proportion of speeches by women", "Number of men", "Number of women", "Number of MSPs", "% MSPs who are men", "% MSPs who are women")
write.csv(summary, here("output_data", "summary.csv"))
write.csv(MSPs, here("output_data", "MSPs.csv"))
gender_1 <- MSPs_1 %>% select(parl_id, gender) %>% unique()
gender_2 <- MSPs_2 %>% select(parl_id, gender) %>% unique()
gender_3 <- MSPs_3 %>% select(parl_id, gender) %>% unique()
gender_4 <- MSPs_4 %>% select(parl_id, gender) %>% unique()
gender_5 <- MSPs_5 %>% select(parl_id, gender) %>% unique()
n_msp1 <- nrow(gender_1)
n_msp2 <- nrow(gender_2)
n_msp3 <- nrow(gender_3)
n_msp4 <- nrow(gender_4)
n_msp5 <- nrow(gender_5)
nf1  <- gender_1 %>%
subset(gender_1$gender == "F") %>%
nrow()
nf2 <- gender_2 %>%
subset(gender_2$gender == "F") %>%
nrow()
nf3 <- gender_3 %>%
subset(gender_3$gender == "F") %>%
nrow()
nf4 <- gender_4 %>%
subset(gender_4$gender == "F") %>%
nrow()
nf5 <- gender_5 %>%
subset(gender_5$gender == "F") %>%
nrow()
pf1 <- nf1/n_msp1
pf2 <- nf2/n_msp2
pf3 <- nf3/n_msp3
pf4 <- nf4/n_msp4
pf5 <- nf5/n_msp5
nm1 <- gender_1 %>%
subset(gender_1$gender == "M") %>%
nrow()
nm2 <- gender_2 %>%
subset(gender_2$gender == "M") %>%
nrow()
nm3 <- gender_3 %>%
subset(gender_3$gender == "M") %>%
nrow()
nm4 <- gender_4 %>%
subset(gender_4$gender == "M") %>%
nrow()
nm5 <- gender_5 %>%
subset(gender_5$gender == "M") %>%
nrow()
pm1 <- nm1/n_msp1
pm2 <- nm2/n_msp2
pm3 <- nm3/n_msp3
pm4 <- nm4/n_msp4
pm5 <- nm5/n_msp5
# n_m | n_f | p_m | p_f | n_msps_m | n_msps_f | p_msps_m | p_msps_f | n_total
n_m <- c(n_speeches_m1, n_speeches_m2, n_speeches_m3, n_speeches_m4, n_speeches_m5, ((n_speeches_m1 + n_speeches_m2 + n_speeches_m3 + n_speeches_m4 + n_speeches_m5)/5))
n_f <- c(n_speeches_f1, n_speeches_f2, n_speeches_f3, n_speeches_f4, n_speeches_f5, ((n_speeches_f1 + n_speeches_f2 + n_speeches_f3 + n_speeches_f4 + n_speeches_f5)/5))
p_m <- c(prop_speeches_m1, prop_speeches_m2, prop_speeches_m3, prop_speeches_m4, prop_speeches_m5, ((prop_speeches_m1 + prop_speeches_m2 + prop_speeches_m3 + prop_speeches_m4 + prop_speeches_m5)/5))
p_f <- c(prop_speeches_f1, prop_speeches_f2, prop_speeches_f3, prop_speeches_f4, prop_speeches_f5, ((prop_speeches_f1 + prop_speeches_f2 + prop_speeches_f3 + prop_speeches_f4 + prop_speeches_f5)/5))
n_msps_m <- c(nm1, nm2, nm3, nm4, nm5, ((nm1+nm2+nm3+nm4+nm5)/5))
n_msps_f <- c(nf1, nf2, nf3, nf4, nf5, ((nf1+nf2+nf3+nf4+nf5)/5))
n_total <- c(n_msp1, n_msp2, n_msp3, n_msp4, n_msp5, ((n_msp1 + n_msp2 + n_msp3 + n_msp4 + n_msp5)/5))
p_msps_m <- c(pm1, pm2, pm3, pm4, pm5, ((pm1+pm2+pm3+pm4+pm5)/5))
p_msps_f <- c(pf1, pf2, pf3, pf4, pf5, ((pf1+pf2+pf3+pf4+pf5)/5))
summary <- data.frame(n_m, n_f, p_m, p_f, n_msps_m, n_msps_f, n_total, p_msps_m, p_msps_f)
rownames(summary) <- c("First Parliament", "Second Parliament", "Third Parliament", "Fourth Parliament", "Fifth Parliament", "Mean")
colnames(summary) <- c("Number speeches by men", "Number of speeches by women", "Proportion of speeches by men", "Proportion of speeches by women", "Number of men", "Number of women", "Number of MSPs", "% MSPs who are men", "% MSPs who are women")
write.csv(summary, here("output_data", "summary.csv"))
write.csv(MSPs, here("output_data", "MSPs.csv"))
# define counts of speeches
n_speeches <- nrow(speeches)
n_speeches_f <- speeches %>%
subset(speeches$gender == "F") %>%
nrow()
n_speeches_m <- speeches %>%
subset(speeches$gender == "M") %>%
nrow()
prop_speeches_f <- n_speeches_f/n_speeches
prop_speeches_m <- n_speeches_m/n_speeches
prop_speeches_m + prop_speeches_f
speeches_1 <- left_join(speeches_1, gender, by = "parl_id") %>% unique()
n_speeches1 <- nrow(speeches_1)
n_speeches_f1 <- speeches_1 %>%
subset(speeches_1$gender == "F") %>%
nrow()
n_speeches_m1 <- speeches_1 %>%
subset(speeches_1$gender == "M") %>%
nrow()
prop_speeches_f1 <- n_speeches_f1/n_speeches1
prop_speeches_m1 <- n_speeches_m1/n_speeches1
prop_speeches_m1 + prop_speeches_f1 # check == 1
speeches_2 <- left_join(speeches_2, gender, by = "parl_id") %>% unique()
n_speeches2 <- nrow(speeches_2)
n_speeches_f2 <- speeches_2 %>%
subset(speeches_2$gender == "F") %>%
nrow()
n_speeches_m2 <- speeches_2 %>%
subset(speeches_2$gender == "M") %>%
nrow()
prop_speeches_f2 <- n_speeches_f2/n_speeches2
prop_speeches_m2 <- n_speeches_m2/n_speeches2
prop_speeches_m2 + prop_speeches_f2 # check == 1
speeches_3 <- left_join(speeches_3, gender, by = "parl_id") %>% unique()
n_speeches3 <- nrow(speeches_3)
n_speeches_f3 <- speeches_3 %>%
subset(speeches_3$gender == "F") %>%
nrow()
n_speeches_m3 <- speeches_3 %>%
subset(speeches_3$gender == "M") %>%
nrow()
prop_speeches_f3 <- n_speeches_f3/n_speeches3
prop_speeches_m3 <- n_speeches_m3/n_speeches3
prop_speeches_m3 + prop_speeches_f3 # check == 1
speeches_4 <- left_join(speeches_4, gender, by = "parl_id") %>% unique()
n_speeches4 <- nrow(speeches_4)
n_speeches_f4 <- speeches_4 %>%
subset(speeches_4$gender == "F") %>%
nrow()
n_speeches_m4 <- speeches_4 %>%
subset(speeches_4$gender == "M") %>%
nrow()
prop_speeches_f4 <- n_speeches_f4/n_speeches4
prop_speeches_m4 <- n_speeches_m4/n_speeches4
prop_speeches_m4 + prop_speeches_f4 # check == 1
speeches_5 <- left_join(speeches_5, gender, by = "parl_id") %>% unique()
n_speeches5 <- nrow(speeches_5)
n_speeches_f5 <- speeches_5 %>%
subset(speeches_5$gender == "F") %>%
nrow()
n_speeches_m5 <- speeches_5 %>%
subset(speeches_5$gender == "M") %>%
nrow()
prop_speeches_f5 <- n_speeches_f5/n_speeches5
prop_speeches_m5 <- n_speeches_m5/n_speeches5
prop_speeches_m5 + prop_speeches_f5 # check == 1
sp_1 <- speeches_1 %>%
group_by(parl_id) %>%
summarise(speeches = nrow())
#
if(!require("here"))install.packages("here")
source(here("scripts", "r-analysis", "r-packages.R"))
source(here("scripts", "r-analysis", "clean-data.R"))
source(here("scripts", "r-analysis", "MSPs-count.R"))
# n_m | n_f | p_m | p_f | n_msps_m | n_msps_f | p_msps_m | p_msps_f | n_total
n_m <- c(n_speeches_m1, n_speeches_m2, n_speeches_m3, n_speeches_m4, n_speeches_m5, ((n_speeches_m1 + n_speeches_m2 + n_speeches_m3 + n_speeches_m4 + n_speeches_m5)/5))
source(here("scripts", "r-analysis", "agg-speech-count.R"))
n_speeches_f <- speeches %>%
subset(speeches$gender == "F") %>%
nrow()
View(speeches)
speeches <- left_join(speeches, gender, by = "parl_id") %>% unique()
# Data
harvard <- read.csv(here("data_raw", "rawdata.csv"))
speeches <- harvard %>% filter(is_speech == 1)
rm(harvard)
speeches <- speeches %>% filter(!is.na(parl_id)) # drop all without parl_id
years <- read.csv(here("data_raw", "years.csv"))
years$Election.Date <- as.Date(years$Election.Date, format = "%d-%m-%Y")
years$Dissolution.Date <- as.Date(years$Dissolution.Date, format = "%d-%m-%Y")
speeches$date <- as.Date(speeches$date, format = "%Y-%m-%d")
speeches$parly <- ifelse(speeches$date >= years[1,2] & speeches$date <= years[1,3], "1st",
ifelse(speeches$date >= years[2,2] & speeches$date <= years[2,3], "2nd",
ifelse(speeches$date >= years[3,2] & speeches$date <= years[3,3], "3rd",
ifelse(speeches$date >= years[4,2] & speeches$date <= years[4,3], "4th",
ifelse(speeches$date >= years[5,2] & speeches$date <= years[5,3], "5th",
ifelse(speeches$date >= years[6,2], "6th",
NA))))))
speeches_1 <- speeches %>% subset(speeches$parly == "1st")
speeches_2 <- speeches %>% subset(speeches$parly == "2nd")
speeches_3 <- speeches %>% subset(speeches$parly == "3rd")
speeches_4 <- speeches %>% subset(speeches$parly == "4th")
speeches_5 <- speeches %>% subset(speeches$parly == "5th")
MSPs_1 <- speeches_1 %>%
select(parl_id, name, gender, wikidataid, constituency, region, msp_type, office_held) %>%
unique()
MSPs_1$parly <- "1st"
MSPs_2 <- speeches_2 %>%
select(parl_id, name, gender, wikidataid, constituency, region, msp_type, office_held) %>%
unique()
MSPs_2$parly <- "2nd"
MSPs_3 <- speeches_3 %>%
select(parl_id, name, gender, wikidataid, constituency, region, msp_type, office_held) %>%
unique()
MSPs_3$parly <- "3rd"
MSPs_4 <- speeches_4 %>%
select(parl_id, name, gender, wikidataid, constituency, region, msp_type, office_held) %>%
unique()
MSPs_4$parly <- "4th"
MSPs_5 <- speeches_5 %>%
select(parl_id, name, gender, wikidataid, constituency, region, msp_type, office_held) %>%
unique()
MSPs_5$parly <- "5th"
MSPs <- rbind(MSPs_1, MSPs_2, MSPs_3, MSPs_4, MSPs_5)
gender <- MSPs %>% select(parl_id, gender)
gender <- MSPs %>% select(parl_id, gender)
speeches <- left_join(speeches, gender, by = "parl_id") %>% unique()
speeches_1 <- speeches_1 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_1 <- unique(speeches_1)
speeches_2 <- speeches_2 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_2 <- unique(speeches_2)
speeches_3 <- speeches_3 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_3 <- unique(speeches_3)
speeches_4 <- speeches_4 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_4 <- unique(speeches_4)
speeches_5 <- speeches_5 %>%
select(date, name, parl_id, speech, item, type, committee, parly)
speeches_5 <- unique(speeches_5)
# bind back
speeches <- rbind(speeches_1, speeches_2, speeches_3, speeches_4, speeches_5)
speeches <- left_join(speeches, gender, by = "parl_id") %>% unique()
gender_1 <- MSPs_1 %>% select(parl_id, gender) %>% unique()
gender_2 <- MSPs_2 %>% select(parl_id, gender) %>% unique()
gender_3 <- MSPs_3 %>% select(parl_id, gender) %>% unique()
gender_4 <- MSPs_4 %>% select(parl_id, gender) %>% unique()
gender_5 <- MSPs_5 %>% select(parl_id, gender) %>% unique()
n_msp1 <- nrow(gender_1)
n_msp2 <- nrow(gender_2)
n_msp3 <- nrow(gender_3)
n_msp4 <- nrow(gender_4)
n_msp5 <- nrow(gender_5)
nf1  <- gender_1 %>%
subset(gender_1$gender == "F") %>%
nrow()
nf2 <- gender_2 %>%
subset(gender_2$gender == "F") %>%
nrow()
nf3 <- gender_3 %>%
subset(gender_3$gender == "F") %>%
nrow()
nf4 <- gender_4 %>%
subset(gender_4$gender == "F") %>%
nrow()
nf5 <- gender_5 %>%
subset(gender_5$gender == "F") %>%
nrow()
pf1 <- nf1/n_msp1
pf2 <- nf2/n_msp2
pf3 <- nf3/n_msp3
pf4 <- nf4/n_msp4
pf5 <- nf5/n_msp5
nm1 <- gender_1 %>%
subset(gender_1$gender == "M") %>%
nrow()
nm2 <- gender_2 %>%
subset(gender_2$gender == "M") %>%
nrow()
nm3 <- gender_3 %>%
subset(gender_3$gender == "M") %>%
nrow()
nm4 <- gender_4 %>%
subset(gender_4$gender == "M") %>%
nrow()
nm5 <- gender_5 %>%
subset(gender_5$gender == "M") %>%
nrow()
pm1 <- nm1/n_msp1
pm2 <- nm2/n_msp2
pm3 <- nm3/n_msp3
pm4 <- nm4/n_msp4
pm5 <- nm5/n_msp5
# define counts of speeches
n_speeches <- nrow(speeches)
n_speeches_f <- speeches %>%
subset(speeches$gender == "F") %>%
nrow()
n_speeches_m <- speeches %>%
subset(speeches$gender == "M") %>%
nrow()
prop_speeches_f <- n_speeches_f/n_speeches
prop_speeches_m <- n_speeches_m/n_speeches
prop_speeches_m + prop_speeches_f
speeches_1 <- left_join(speeches_1, gender, by = "parl_id") %>% unique()
n_speeches1 <- nrow(speeches_1)
n_speeches_f1 <- speeches_1 %>%
subset(speeches_1$gender == "F") %>%
nrow()
n_speeches_m1 <- speeches_1 %>%
subset(speeches_1$gender == "M") %>%
nrow()
prop_speeches_f1 <- n_speeches_f1/n_speeches1
prop_speeches_m1 <- n_speeches_m1/n_speeches1
prop_speeches_m1 + prop_speeches_f1 # check == 1
speeches_2 <- left_join(speeches_2, gender, by = "parl_id") %>% unique()
n_speeches2 <- nrow(speeches_2)
n_speeches_f2 <- speeches_2 %>%
subset(speeches_2$gender == "F") %>%
nrow()
n_speeches_m2 <- speeches_2 %>%
subset(speeches_2$gender == "M") %>%
nrow()
prop_speeches_f2 <- n_speeches_f2/n_speeches2
prop_speeches_m2 <- n_speeches_m2/n_speeches2
prop_speeches_m2 + prop_speeches_f2 # check == 1
speeches_3 <- left_join(speeches_3, gender, by = "parl_id") %>% unique()
n_speeches3 <- nrow(speeches_3)
n_speeches_f3 <- speeches_3 %>%
subset(speeches_3$gender == "F") %>%
nrow()
n_speeches_m3 <- speeches_3 %>%
subset(speeches_3$gender == "M") %>%
nrow()
prop_speeches_f3 <- n_speeches_f3/n_speeches3
prop_speeches_m3 <- n_speeches_m3/n_speeches3
prop_speeches_m3 + prop_speeches_f3 # check == 1
speeches_4 <- left_join(speeches_4, gender, by = "parl_id") %>% unique()
n_speeches4 <- nrow(speeches_4)
n_speeches_f4 <- speeches_4 %>%
subset(speeches_4$gender == "F") %>%
nrow()
n_speeches_m4 <- speeches_4 %>%
subset(speeches_4$gender == "M") %>%
nrow()
prop_speeches_f4 <- n_speeches_f4/n_speeches4
prop_speeches_m4 <- n_speeches_m4/n_speeches4
prop_speeches_m4 + prop_speeches_f4 # check == 1
speeches_5 <- left_join(speeches_5, gender, by = "parl_id") %>% unique()
n_speeches5 <- nrow(speeches_5)
n_speeches_f5 <- speeches_5 %>%
subset(speeches_5$gender == "F") %>%
nrow()
n_speeches_m5 <- speeches_5 %>%
subset(speeches_5$gender == "M") %>%
nrow()
prop_speeches_f5 <- n_speeches_f5/n_speeches5
prop_speeches_m5 <- n_speeches_m5/n_speeches5
prop_speeches_m5 + prop_speeches_f5 # check == 1
# n_m | n_f | p_m | p_f | n_msps_m | n_msps_f | p_msps_m | p_msps_f | n_total
n_m <- c(n_speeches_m1, n_speeches_m2, n_speeches_m3, n_speeches_m4, n_speeches_m5, ((n_speeches_m1 + n_speeches_m2 + n_speeches_m3 + n_speeches_m4 + n_speeches_m5)/5))
n_f <- c(n_speeches_f1, n_speeches_f2, n_speeches_f3, n_speeches_f4, n_speeches_f5, ((n_speeches_f1 + n_speeches_f2 + n_speeches_f3 + n_speeches_f4 + n_speeches_f5)/5))
p_m <- c(prop_speeches_m1, prop_speeches_m2, prop_speeches_m3, prop_speeches_m4, prop_speeches_m5, ((prop_speeches_m1 + prop_speeches_m2 + prop_speeches_m3 + prop_speeches_m4 + prop_speeches_m5)/5))
p_f <- c(prop_speeches_f1, prop_speeches_f2, prop_speeches_f3, prop_speeches_f4, prop_speeches_f5, ((prop_speeches_f1 + prop_speeches_f2 + prop_speeches_f3 + prop_speeches_f4 + prop_speeches_f5)/5))
n_msps_m <- c(nm1, nm2, nm3, nm4, nm5, ((nm1+nm2+nm3+nm4+nm5)/5))
n_msps_f <- c(nf1, nf2, nf3, nf4, nf5, ((nf1+nf2+nf3+nf4+nf5)/5))
n_total <- c(n_msp1, n_msp2, n_msp3, n_msp4, n_msp5, ((n_msp1 + n_msp2 + n_msp3 + n_msp4 + n_msp5)/5))
p_msps_m <- c(pm1, pm2, pm3, pm4, pm5, ((pm1+pm2+pm3+pm4+pm5)/5))
p_msps_f <- c(pf1, pf2, pf3, pf4, pf5, ((pf1+pf2+pf3+pf4+pf5)/5))
summary <- data.frame(n_m, n_f, p_m, p_f, n_msps_m, n_msps_f, n_total, p_msps_m, p_msps_f)
View(summary)
rownames(summary) <- c("First Parliament", "Second Parliament", "Third Parliament", "Fourth Parliament", "Fifth Parliament", "Mean")
colnames(summary) <- c("Number speeches by men", "Number of speeches by women", "Proportion of speeches by men", "Proportion of speeches by women", "Number of men", "Number of women", "Number of MSPs", "% MSPs who are men", "% MSPs who are women")
View(summary)
write.csv(summary, here("output_data", "summary.csv"))
write.csv(MSPs, here("output_data", "MSPs.csv"))
speeches_1$syls <- sylcount(speeches_1$speech)
speeches_1$syls <- sapply(speeches_1$syls, sum)
speeches_2$syls <- sylcount(speeches_2$speech)
speeches_2$syls <- sapply(speeches_2$syls, sum)
speeches_3$syls <- sylcount(speeches_3$speech)
speeches_3$syls <- sapply(speeches_3$syls, sum)
speeches_4$syls <- sylcount(speeches_4$speech)
speeches_4$syls <- sapply(speeches_4$syls, sum)
speeches_5$syls <- sylcount(speeches_5$speech)
speeches_5$syls <- sapply(speeches_5$syls, sum)
speeches_syl <- rbind(speeches_1, speeches_2, speeches_3, speeches_4, speeches_5)
syls_1 <- speeches_1 %>%
group_by(parl_id) %>%
summarise(syls = sum(syls))
syls_1$parly <- "1st"
syls_2 <- speeches_2 %>%
group_by(parl_id) %>%
summarise(syls = sum(syls))
syls_2$parly <- "2nd"
syls_3 <- speeches_3 %>%
group_by(parl_id) %>%
summarise(syls = sum(syls))
syls_3$parly <- "3rd"
syls_4 <- speeches_4 %>%
group_by(parl_id) %>%
summarise(syls = sum(syls))
syls_4$parly <- "4th"
syls_5 <- speeches_5 %>%
group_by(parl_id) %>%
summarise(syls = sum(syls))
syls_5$parly <- "5th"
syls_summary <-
syls_all %>%
group_by(gender) %>%
summarise(syls = mean(syls))
syls_all <- rbind(syls_1, syls_2, syls_3, syls_4, syls_5)
syls_all <- left_join(syls_all, gender, by = "parl_id") %>% unique()
syls_summary <-
syls_all %>%
group_by(gender) %>%
summarise(syls = mean(syls))
View(syls_summary)
View(syls_all)
View(syls_1)
syls_1 <- left_join(syls_1, gender_1, by = "parl_id") %>% unique()
View(syls_1)
syls_2 <- left_join(syls_2, gender_2, by = "parl_id") %>% unique()
syls_3 <- left_join(syls_3, gender_3, by = "parl_id") %>% unique()
syls_4 <- left_join(syls_4, gender_4, by = "parl_id") %>% unique()
syls_5 <- left_join(syls_5, gender_5, by = "parl_id") %>% unique()
View(syls_2)
syls_all <- rbind(syls_1, syls_2, syls_3, syls_4, syls_5)
View(MSPs)
MSPs_unique <- MSPs
View(summary)
View(MSPs_unique)
MSPs_unique <- MSPs_unique %>% select(parl_id, wikidataid, gender)
MSPs_unique <- MSPs_unique %>% select(parl_id, wikidataid, gender) %>% unique()
View(MSPs_unique)
MSPs_unique <- MSPs_unique %>% select(parl_id) %>% unique()
MSPs_unique <- c(MSPs_unique %>% select(parl_id) %>% unique())
View(MSPs_5)
View(MSPs_unique)
MSPs_unique <- MSPs_unique %>% select(parl_id) %>% unique()
MSPs_unique <- MSPs
MSPs_unique <- MSPs_unique %>% select(parl_id) %>% unique()
View(syls_all)
View(syls_all)
syls_all <- left_join(syls_all, gender, by = "parl_id") %>% unique()
View(syls_all)
syls_all <- rbind(syls_1, syls_2, syls_3, syls_4, syls_5)
write.csv(syls_all, here("output_data", results1.csv))
write.csv(syls_all, here("output_data", "results1.csv"))
